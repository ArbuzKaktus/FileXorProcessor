# FileXorProcessor

![Qt](https://img.shields.io/badge/Qt-6.10.0-green.svg)
![C++](https://img.shields.io/badge/C++-17-blue.svg)
![Platform](https://img.shields.io/badge/Platform-Windows-lightgrey.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

## Описание

FileXorProcessor - это многопоточное приложение на Qt для автоматической обработки файлов с использованием операции XOR. Программа предназначена для модификации входных файлов бинарной операцией XOR с заданным 8-байтным значением.

### Основные возможности

- ✅ Обработка файлов операцией XOR с настраиваемым 8-байтным ключом
- ✅ Многопоточная обработка больших файлов без зависания интерфейса
- ✅ Гибкая настройка масок входных файлов (например, `*.txt`, `testFile.bin`)
- ✅ Автоматическое отслеживание директории по таймеру или разовый запуск
- ✅ Настраиваемые параметры обработки выходных файлов
- ✅ Индикация прогресса и статистика обработки
- ✅ Удобный графический интерфейс

## Требования

- **Операционная система:** Windows 7/8/10/11
- **Qt:** 6.10.0 или выше
- **Компилятор:** MinGW 64-bit
- **Qt Creator:** Рекомендуется для разработки

## Установка и сборка

### Предварительные требования

1. Установите [Qt](https://www.qt.io/download) версии 6.10.0 или выше с MinGW компилятором
2. Убедитесь, что Qt Creator установлен

### Сборка проекта

#### Вариант 1: Через Qt Creator

1. Откройте Qt Creator
2. Выберите `File` → `Open File or Project`
3. Откройте файл `FileProcessor.pro`
4. Настройте Kit (Desktop Qt 6.10.0 MinGW 64-bit)
5. Нажмите `Build` → `Build Project "FileProcessor"`
6. Запустите проект кнопкой `Run` (Ctrl+R)

#### Вариант 2: Через командную строку

```powershell
# Перейдите в директорию проекта
cd c:\MyProjects\FileXorProcessor

# Создайте директорию сборки
mkdir build
cd build

# Сгенерируйте Makefile
qmake ..\FileProcessor.pro

# Скомпилируйте проект
mingw32-make

# Запустите приложение
.\debug\FileProcessor.exe
```

## Использование

### Запуск приложения

После сборки запустите исполняемый файл:
```
build\Desktop_Qt_6_10_0_MinGW_64_bit-Debug\debug\FileProcessor.exe
```

### Настройка параметров

При запуске программы вам необходимо настроить следующие параметры:

#### 1. Маска входных файлов
- Укажите шаблон для поиска файлов (например, `*.txt`, `*.bin`, `testFile.bin`)
- Поддерживаются стандартные wildcard-шаблоны

#### 2. Директория входных файлов
- Выберите директорию, где находятся файлы для обработки

#### 3. Удаление входных файлов
- Отметьте опцию, если необходимо удалять исходные файлы после обработки
- Или снимите отметку для сохранения оригиналов

#### 4. Путь сохранения результатов
- Укажите директорию для сохранения обработанных файлов

#### 5. Действия при совпадении имен
- **Перезапись:** Заменять существующие файлы
- **Модификация имени:** Добавлять счетчик к имени файла (например, `file_1.txt`, `file_2.txt`)

#### 6. Режим работы
- **По таймеру:** Автоматическое сканирование директории с заданным интервалом
- **Разовый запуск:** Однократная обработка файлов

#### 7. Периодичность опроса (для режима таймера)
- Задайте интервал проверки наличия новых файлов в секундах

#### 8. 8-байтное значение для XOR операции
- Введите 8 байт (16 hex символов) для ключа шифрования
- Например: `0123456789ABCDEF`

### Процесс обработки

1. После настройки всех параметров нажмите кнопку **"Старт"**
2. Программа начнет обработку файлов в отдельном потоке
3. Следите за прогрессом обработки в индикаторе выполнения
4. Просматривайте статистику обработки в реальном времени:
   - Количество обработанных файлов
   - Общий объем обработанных данных
   - Текущий статус
5. Для остановки процесса нажмите **"Стоп"**

## Архитектура проекта

### Структура файлов

```
FileXorProcessor/
│
├── FileProcessor.pro          # Файл проекта Qt
├── main.cpp                   # Точка входа в приложение
│
├── mainwindow.h/cpp/ui        # Главное окно приложения
├── worker.h/cpp               # Многопоточный обработчик файлов
├── fileutils.h/cpp            # Утилиты для работы с файлами
├── fileprocessorconfig.h/cpp  # Конфигурация приложения
├── processingstatistics.h/cpp # Статистика обработки
│
└── README.md                  # Документация
```

### Основные компоненты

- **MainWindow:** Графический интерфейс и управление настройками
- **Worker:** Многопоточный обработчик файлов (QThread)
- **FileUtils:** Вспомогательные функции для работы с файлами и XOR операции
- **FileProcessorConfig:** Хранение и управление конфигурацией
- **ProcessingStatistics:** Сбор и отображение статистики

### Многопоточность

Программа использует `QThread` для обработки файлов в фоновом режиме:
- Основной поток (UI thread) отвечает за графический интерфейс
- Рабочий поток (Worker thread) выполняет чтение, обработку и запись файлов
- Сигналы и слоты обеспечивают безопасную коммуникацию между потоками

## Принцип работы XOR операции

Программа выполняет побайтовую операцию XOR между содержимым файла и 8-байтным ключом:

```
Для каждого байта файла (i):
    result[i] = file[i] XOR key[i % 8]
```

где `key` - это 8-байтное значение, заданное пользователем.

### Особенности:
- XOR операция обратима: повторное применение того же ключа восстанавливает исходный файл
- Обработка выполняется блоками для эффективной работы с большими файлами
- Поддержка файлов любого размера

## Примеры использования

### Пример 1: Шифрование текстовых файлов

1. Маска файлов: `*.txt`
2. Удаление входных: ❌ (Нет)
3. Путь сохранения: `C:\Output`
4. При совпадении: Модификация имени
5. Режим: Разовый запуск
6. XOR ключ: `A5A5A5A5A5A5A5A5`

### Пример 2: Автоматическая обработка бинарных файлов

1. Маска файлов: `*.bin`
2. Удаление входных: ✅ (Да)
3. Путь сохранения: `C:\Processed`
4. При совпадении: Перезапись
5. Режим: По таймеру
6. Интервал: 10 секунд
7. XOR ключ: `0123456789ABCDEF`

## Производительность

- ✅ Обработка больших файлов без зависания интерфейса
- ✅ Эффективное использование памяти (потоковая обработка)
- ✅ Прогресс-бар показывает процент выполнения
- ✅ Статистика в реальном времени

## Устранение неполадок

### Программа не запускается
- Убедитесь, что установлены все необходимые Qt библиотеки
- Проверьте наличие MinGW runtime библиотек

### Ошибка при обработке файлов
- Проверьте права доступа к директориям
- Убедитесь, что входные файлы не используются другими программами
- Проверьте корректность введенного XOR ключа (должен содержать 16 hex символов)

### Интерфейс зависает
- Убедитесь, что обработка выполняется в отдельном потоке
- Проверьте логи на наличие ошибок

## Разработка

### Компиляция в режиме Release

```powershell
qmake CONFIG+=release FileProcessor.pro
mingw32-make
```

### Добавление новых функций

1. Создайте новую ветку для разработки
2. Внесите изменения
3. Протестируйте функциональность
4. Создайте pull request

## Лицензия

MIT License - см. файл LICENSE для деталей

## Автор

**ArbuzKaktus**

## Контакты

Если у вас есть вопросы или предложения, создайте issue в репозитории проекта.

---

**Версия:** 1.0.0  
**Дата последнего обновления:** Ноябрь 2025
